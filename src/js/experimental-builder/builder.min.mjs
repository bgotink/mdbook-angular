import{createBuilder as s}from"@angular-devkit/architect";import r from"node:fs";import{posix as l}from"node:path";async function u(){try{return await import("@angular-devkit/build-angular/src/builders/application/index.js")}catch{}try{return await import("@angular/build/private")}catch{}try{return await import("@angular-devkit/build-angular/node_modules/@angular/build/src/private.js")}catch{}throw new Error("Unable to find builder function in @angular-devkit/build-angular or @angular/build")}var d=s(async function*({optimization:n,watch:o=!1,...e},i){yield*(await u()).buildApplicationInternal({watch:o,progress:!1,index:!1,entryPoints:new Set(r.readdirSync(i.workspaceRoot).filter(t=>{let a=l.join(i.workspaceRoot,t);return r.statSync(a).isDirectory()&&r.existsSync(`${a}/${t}.ts`)}).map(t=>`${t}/${t}.ts`)),aot:!0,tsConfig:"tsconfig.json",...e,...n?{optimization:{styles:{inlineCritical:!1,minify:!0},scripts:!0},outputHashing:"all"}:{optimization:!1,outputHashing:"none"}},i)});export{d as default};
